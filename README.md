[![N|Solid](https://semantica.in/logo/github.png)](https://semantica.in)
# Semantica YaMetrika Time Knock

Скрипт позволяет избавиться от проблемы с учётом продолжительности визита (время на сайте) в Яндекс.Метрике, которая заключается в том, что Яндекс.Метрика не учитывает время с момента последнего события (к событиям относятся просмотры, переходы по внешним ссылкам, скачивания файлов и достижения целей, включая вызов метода reachGoal) до момента ухода посетителя с сайта.

> Например, посетитель открыл страницу со статьёй, прочитал её за 10 минут и закрыл страницу. Яндекс.Метрика никак не узнает, о том, что посетитель читал страницу 10 минут и отобразит в статистике данный визит с нулевой продолжительностью.

Скрипт **Semantica YaMetrika Time Knock** отслеживает активность на странице и отправляет информацию об этом в Яндекс.Метрику. Отслеживаются следующие события:

- клик на странице (в т. ч. нажатие на мобильных устройствах);
- нажатие клавиши;
- прокрутка страницы.

### Установка скрипта

Скопируйте код из файла [script.html](https://github.com/semantica19/Semantica-YaMetrika-Time-Knock/blob/master/script.html).

Замените в последней строчке кода **XXXXXXXX** на ID счётчика Яндекс.Метрики.

По-умолчанию, код отправляет данные в Яндекс.Метрику не чаще, чем **раз в 5 секунд**. Изменить этот параметр можно также в последней строке кода.

Вставьте полученный код сразу после кода счётчики Яндекс.Метрики на вашем сайте.